@charset "utf-8";
@viewport {width: device-width;}
@import "fonts";

/////////////////////////////////////////////////////////
// General variables
/////////////////////////////////////////////////////////

$font-size-multiplier: 16/16;
$line: 1.382rem;
$max-width: none; //$line * 28;

$card-padding: $line * 0.25;
$grid-header-height: $line*1 + $card-padding*3;
$home-grid-header-height: $line*2 + $card-padding*3;

$in-quad:      cubic-bezier(0.550,  0.085, 0.680, 0.530);
$in-cubic:     cubic-bezier(0.550,  0.055, 0.675, 0.190);
$in-quart:     cubic-bezier(0.895,  0.030, 0.685, 0.220);
$in-quint:     cubic-bezier(0.755,  0.050, 0.855, 0.060);
$in-sine:      cubic-bezier(0.470,  0.000, 0.745, 0.715);
$in-expo:      cubic-bezier(0.950,  0.050, 0.795, 0.035);
$in-circ:      cubic-bezier(0.600,  0.040, 0.980, 0.335);
$in-back:      cubic-bezier(0.600, -0.280, 0.735, 0.045);
$out-quad:     cubic-bezier(0.250,  0.460, 0.450, 0.940);
$out-cubic:    cubic-bezier(0.215,  0.610, 0.355, 1.000);
$out-quart:    cubic-bezier(0.165,  0.840, 0.440, 1.000);
$out-quint:    cubic-bezier(0.230,  1.000, 0.320, 1.000);
$out-sine:     cubic-bezier(0.390,  0.575, 0.565, 1.000);
$out-expo:     cubic-bezier(0.190,  1.000, 0.220, 1.000);
$out-circ:     cubic-bezier(0.075,  0.820, 0.165, 1.000);
$out-back:     cubic-bezier(0.175,  0.885, 0.320, 1.275);
$in-out-quad:  cubic-bezier(0.455,  0.030, 0.515, 0.955);
$in-out-cubic: cubic-bezier(0.645,  0.045, 0.355, 1.000);
$in-out-quart: cubic-bezier(0.770,  0.000, 0.175, 1.000);
$in-out-quint: cubic-bezier(0.860,  0.000, 0.070, 1.000);
$in-out-sine:  cubic-bezier(0.445,  0.050, 0.550, 0.950);
$in-out-expo:  cubic-bezier(1.000,  0.000, 0.000, 1.000);
$in-out-circ:  cubic-bezier(0.785,  0.135, 0.150, 0.860);
$in-out-back:  cubic-bezier(0.680, -0.550, 0.265, 1.550);

$main-easing: $in-back;
$reverse-easing: $out-back;
$main-time: 333ms;
$short-time: 205ms;

/////////////////////////////////////////////////////////
// Hues
/////////////////////////////////////////////////////////

$hue: 45;

$hue-xxxxx-high: $hue + (360 * 0.979);
$hue-xxxx-high: $hue + (360 * 0.965);
$hue-xxx-high: $hue + (360 * 0.944);
$hue-xx-high: $hue + (360 * 0.91);
$hue-x-high: $hue + (360 * 0.854);
$hue-high:  $hue + (360 * 0.764);

$hue-quarter-high: $hue + (360 * 0.75);
$hue-golden-high:  $hue + (360 * 0.618);
$hue-sqrt-high:    $hue + (360 * 0.586);

$hue-opposite:     $hue + (360 * 0.5);

$hue-sqrt-low:     $hue + (360 * 0.414);
$hue-golden-low:   $hue + (360 * 0.382);
$hue-quarter-low:  $hue + (360 * 0.25);

$hue-low:   $hue + (360 * 0.236);
$hue-x-low:  $hue + (360 * 0.146);
$hue-xx-low:  $hue + (360 * 0.09);
$hue-xxx-low:  $hue + (360 * 0.056);
$hue-xxxx-low:  $hue + (360 * 0.034);
$hue-xxxxx-low:  $hue + (360 * 0.021);

$background: hsl($hue-golden-high, 23.6%, 23.6%);
$card-background: hsl($hue-golden-high, 38.2%, 14.6%);

$shadow: hsl($hue-golden-high, 50%, 5.6%);
$border: hsl($hue-golden-high, 14.6%, 38.2%);
$main-highlight: hsl($hue, 50%, 50%);

/////////////////////////////////////////////////////////
// Media queries
/////////////////////////////////////////////////////////

$xs2:  "#{317 / 16 * 1em}";
$xs:   "#{318 / 16 * 1em}";
$s:    "#{478 / 16 * 1em}";
$m:    "#{560 / 16 * 1em}";
$l:    "#{740 / 16 * 1em}";
$xl:   "#{960 / 16 * 1em}";
$xl2: "#{1100 / 16 * 1em}";
$xl3: "#{1200 / 16 * 1em}";
$xl4: "#{1400 / 16 * 1em}";
$xl5: "#{1700 / 16 * 1em}";
$xl6: "#{1900 / 16 * 1em}";
$xl7: "#{2300 / 16 * 1em}";

$retina: "(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)";

/////////////////////////////////////////////////////////
// Normalization & resets for annoyances
/////////////////////////////////////////////////////////

// Resets annoying things
* {
  margin: 0;
  padding: 0;
  font: inherit;
  color: inherit;
  vertical-align: baseline;
  box-sizing: border-box;
  text-size-adjust: 100%;
}

// Owl selector spacing
* + * {
  margin-top: $line;
}

.no-margins * + *,
li {
  margin-top: 0;
}

ul ul, ul ol, ol ol, ol ul {
  margin-top: 0;
  padding-left: $line;
}

// HTML5 element fixes
article, aside, details,
figcaption, figure, footer,
header, hgroup,
main, menu, nav,
section, summary,
video, audio, canvas {
  display: block;
}

// Hides things that should be hidden
[hidden],
template,
audio:not([controls]) {
  display: none;
  height: 0;
}

// Misc element fixes
a {
  background-color: transparent;
}

a:active,
a:hover {
  outline: 0;
}

b, strong {
  font-weight: bold;
}

sub, sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
}

sup { top: -0.5em; }
sub { bottom: -0.25em; }

hr {
  height: 0;
}

// Image fixes
img {
  border: none;
  display: block;
}

// Buttons and forms
button {
  overflow: visible;
  cursor: pointer;
}

button[type="button"] {
  appearance: none;
  background: none;
}

[disabled] {
  cursor: not-allowed !important;
}

button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}

input[type="search"] {
  -webkit-appearance: textfield;
}

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}

textarea {
  overflow: auto;
  resize: vertical;
}

// Tables
table {
  border-collapse: collapse;
  border-spacing: 0;
}

td,
th {
  padding: 0;
}

/////////////////////////////////////////////////////////
// Touchable things (used in addition to FastClick)
/////////////////////////////////////////////////////////

a,
button,
input,
textarea,
.touchable {
  -ms-touch-action: manipulation;
      touch-action: manipulation;
}

/////////////////////////////////////////////////////////
// Font families
/////////////////////////////////////////////////////////

html {
  font-family: "Elena", "Times New Roman", serif;
}

// h1, h2, h3, h4, h5, h6 {
//   font-family: "Elena", serif;
// }

.mono,
code, pre {
  font-family: "Nitti Basic", Menlo, Consolas, monospace, monospace;
  letter-spacing: -0.5px;
}

/////////////////////////////////////////////////////////
// Basic styles
/////////////////////////////////////////////////////////

html {
  font-size: 100% * $font-size-multiplier;
  line-height: $line;
  background: $background;
  color: hsl($hue-golden-high, 14.6%, 76.4%);
  -webkit-tap-highlight-color: hsla($hue-golden-low, 100%, 61.8%, 0.5);
}

body {
  margin: 0 auto;
}

.z-open {
  overflow: visible;
}

a {
  color: inherit;
  text-decoration: none;

  &:hover {
    color: hsl($hue-golden-high, 85.4%, 61.8%);
  }

  &:active {
    color: hsl($hue-quarter-low, 85.4%, 61.8%);
  }
}

hr {
  border-color: hsl($hue-golden-high, 9%, 23.6%);
}

code {
  color: hsl($hue-golden-high, 14.6%, 61.8%);
}

::selection {
  background: hsl($hue-opposite, 91%, 61.8%);
}

::placeholder {
  color: hsl($hue, 9%, 50%);
}

.centered {
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);
}

/////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////

html,
body {
  height: 100%;
}

.grid {
  margin: 0;
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  padding: $card-padding;
  padding-top: $grid-header-height;
}

.home-grid {
  padding-top: $home-grid-header-height;
}

.grid-header {
  height: $grid-header-height;
  padding: $card-padding*2;
  padding-bottom: $card-padding;
  position: absolute;
  left: 0; top: 0; right: 0;
  white-space: nowrap;
}

.masthead {
  height: $home-grid-header-height;
}

.avatar {
  display: block;
  width: $line * 2;
  border: 1px solid hsl($hue, 91%, 5.6%);
  float: left;
  margin-right: $line * 0.5;
}

.name {
  display: inline;
  font-size: 1.146rem;
  line-height: $line;
  margin-right: $line * 0.25;
}

.title {
  font-size: 0.91rem;
  text-transform: uppercase;
  word-spacing: -0.236rem;
}

.links {
  a {

  }
}

.row {
  margin: 0;
  height: 50%;

  .z & {
    height: 100%;
  }
}

.tag-heading {

}

.z {
  margin: 0;
  position: relative;
  height: 100%;
  float: left;
}

.size-2 { width: 50%; }
.size-3 { width: 33.333%; }
.size-4 { width: 50%; height: 50%; }

.size-5 {
  width: 33.333%; height: 50%;

  &:first-child {
    width: 66.666%;
  }
}

.size-6 { width: 33.333%; height: 50%; }

.z-active.z-active {
  position: static;
}

.z-anchor {
  display: block;
  position: absolute;
  left: 0; top: 0; right: 0; bottom: 0;
  margin: $card-padding;
  border: 1px solid transparent;

  &:hover {
    border-color: $main-highlight;
  }

  .z-active > & {
    display: none;
  }
}

.z-content {
  position: absolute;
  left: 0; top: 0; right: 0; bottom: 0;
  margin: $card-padding;
  overflow: hidden;
  border: 1px solid $border;
  background: $card-background;
  will-change: contents;
  // transform: translate3d(0,0,0);

  .z:hover & {

  }

  .z-active > & {
    // border: none;
    width: auto;
    height: auto;
    margin: 0;
    z-index: 10;
    transition: $main-time $main-easing;
    transition-property: left, top, right, bottom, width, height, margin;
    transition-delay:    0ms  ,0ms, 0ms,   0ms,    $short-time, $short-time,  $short-time;
  }

  .z-zooming-out > & {
    transition-timing-function: $reverse-easing;
  }

  .z-current > & {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
}

.article-title {
  padding: $card-padding * 2;
}

.article-content {
  // display: none;

  // .z-current > .z-content > & {
  //   display: block;
  // }

  .z-zooming-in > .z-content > & {
    display: none;
  }
}

.canvas {
  position: absolute;
  left: 0; top: 0; right: 0; bottom: 0;
  z-index: 100;
  margin: 0;
  background: $background;

  .index & {
    display: none;
  }
}
